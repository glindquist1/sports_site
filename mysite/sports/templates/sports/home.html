<html>
<head>
    <meta charset="utf-8"/>
    <title>Chart.js demo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>

<!--     <h1>Chart.js Sample</h1>

    <canvas id="countries" width="600" height="400"></canvas>
    <script>
        var pieData = [
            {
                value: 20,
                color:"#878BB6"
            },
            {
                value : 40,
                color : "#4ACAB4"
            },
            {
                value : 10,
                color : "#FF8153"
            },
            {
                value : 30,
                color : "#FFEA88"
            }
        ];
        // Get the context of the canvas element we want to select
        var countries= document.getElementById("countries").getContext("2d");
        new Chart(countries).Pie(pieData);
    </script> -->


	<h1> Please work dear god</h1>
	<canvas id="myChart" width="400" height="400"></canvas>
	<script>
		{% block jquery %}

			$(document).ready(function() {
				var endpoint = '/sports/api/chart/data/' //hardcoed, b/c if I ever want to pull out the jquery or javascript stuff, it could be done; VS doing the django stuff which would be: {% url "api-data" %}

				//endpoints/apis are useful bc you think of your data differently, it detaches where you're getting the data from, and where it's being rendered
				var defaultData = []
				var labels = []

				$.ajax({
					method: "GET",
					url: endpoint,
					success: function(data){
						labels = data.labels
						defaultData = data.default
						// var ctx = document.getElementById("myChart").getContext("2d");
						// new Chart(ctx).Bar(defaultData);
						setChart(defaultData, labels)

					},
					error: function(error_data){
						console.log("error")
						console.log(error_data)
					}
				});
			});




		// var ctx = document.getElementById('myChart').getContext('2d');
		// var myChart = new Chart(ctx, {
		//     type: 'bar',
		//     data: {
		//         labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
		//         datasets: [{
		//             label: '# of Votes',
		//             data: [12, 19, 3, 5, 2, 3],
		//             backgroundColor: [
		//                 'rgba(255, 99, 132, 0.2)',
		//                 'rgba(54, 162, 235, 0.2)',
		//                 'rgba(255, 206, 86, 0.2)',
		//                 'rgba(75, 192, 192, 0.2)',
		//                 'rgba(153, 102, 255, 0.2)',
		//                 'rgba(255, 159, 64, 0.2)'
		//             ],
		//             borderColor: [
		//                 'rgba(255, 99, 132, 1)',
		//                 'rgba(54, 162, 235, 1)',
		//                 'rgba(255, 206, 86, 1)',
		//                 'rgba(75, 192, 192, 1)',
		//                 'rgba(153, 102, 255, 1)',
		//                 'rgba(255, 159, 64, 1)'
		//             ],
		//             borderWidth: 1
		//         }]
		//     },
		//     options: {
		//         scales: {
		//             yAxes: [{
		//                 ticks: {
		//                     beginAtZero: true
		//                 }
		//             }]
		//         }
		//     }
		// });


			function setChart(defaultData, labels){
				var ctx = document.getElementById("myChart");
				//var ctx = document.getElementById("myChart").getContext("2d");
//				new Chart(ctx).Bar(stuff);
				var myChart = new Chart(ctx, {
					type: 'bar',
					data: {
						labels: labels,
						datasets: [{
							label: '# of Votes',
							data: defaultData,
						}]
					}
				});

				console.log(ctx);
				console.log(myChart);
			}



		{% endblock %}
	</script>
</body>




<!-- <body>


    <h1>Chart.js Sample</h1>

    <canvas id="myChart" width="600" height="400"></canvas>

</body>
 -->

<!-- <html>
<head>
    <meta charset="utf-8"/>
    <title>Chart.js demo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/0.2.0/Chart.min.js" type="text/javascript"></script>
</head>
<body>


    <h1>Chart.js Sample</h1>

    <canvas id="countries" width="600" height="400"></canvas>
    <script>
        var pieData = [
            {
                value: 20,
                color:"#878BB6"
            },
            {
                value : 40,
                color : "#4ACAB4"
            },
            {
                value : 10,
                color : "#FF8153"
            },
            {
                value : 30,
                color : "#FFEA88"
            }
        ];
        // Get the context of the canvas element we want to select
        var countries= document.getElementById("countries").getContext("2d");
        new Chart(countries).Pie(pieData);
    </script>
</body> -->


<!-- ############################################################### -->


<!-- {% load static %}
<link rel='stylesheet' href="{% static 'sports/style.css' %}">

{% block content %}
<h2>Enter a player name to find that player's number.</h2>
<form action="{% url 'home' %}" method="get">
	{% csrf_token %}
	{{ form }}
<input type="submit" name="submit" value="Submit" />

{% if image.photo %}
	<img src="{{ image.photo.url }}" alt="Player_Graph" height="42" width="42">
{% endif %}
</form><br/><br/>

{% if number_output %}
    Output: {{ number_output }}
{% endif %}
{% endblock %} -->